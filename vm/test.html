<html>
<body>
  <button class="button-yunxing" onclick="yunxing()" type="button">
    运行
  </button>
  <div class="main">
    <div class="left">
      <div>1</div>
      <div>2</div>
      <div>3</div>
      <div>4</div>
      <div>5</div>
      <div>6</div>
    </div>
    <div class="right">
      <div class="class1" id="1">int a=1</div>
      <div class="class1" id="2">int a=2</div>
      <div class="class1" id="3">int a=3</div>
      <div class="class1" id="4">int a=4</div>
      <div class="class1" id="5">int a=5</div>
      <div class="class1" id="6">int a=6</div>
    </div>
  </div>
</body>
</html>
<script type="text/javascript" src="Vm.js"></script>
<script language=javascript>
  /*pushStack(0x10);
  pushStack(0x20);
  pushStack(0x30);
  pushStack(0x40);
  console.log(popStack());
  console.log(popStack());
  console.log(popStack());
  console.log(popStack()); 
  getNewCode(0x10); 
  console.log(globalSpace[gp]);*/
  /*console.log(stack);
  putNewCode({opt:"push",num:1.0})
  printStack()
  putNewCode({opt:"push",num:2.0})
  printStack()
  putNewCode({opt:"add.f"})
  printStack()*/
  /*检验函数
  putNewCode({opt:"stackalloc",num:1})
  putNewCode({opt:"call",num:2})
  putNewCode({opt:"exit"})
  putNewCode({opt:"arga",num:0})
  putNewCode({opt:"push",num:120})
  putNewCode({opt:"store.64"})
  putNewCode({opt:"ret"})
  putNewCode({opt:"loca",num:0})
  putNewCode({opt:"stackalloc",num:1})
  putNewCode({opt:"call",num:1})
  putNewCode({opt:"store.64"})
  putNewCode({opt:"arga",num:0})
  putNewCode({opt:"loca",num:0})
  putNewCode({opt:"load.64"})
  putNewCode({opt:"store.64"})
  putNewCode({opt:"ret"})
  */
  /*putNewCode({opt:"stackalloc",num:1})
  putNewCode({opt:"call",num:1})
  putNewCode({opt:"exit"})
  putNewCode({opt:"arga",num:0})
  //putNewCode({opt:"push",num:0xffffffff})
  putNewCode({opt:"push",num:1})
  putNewCode({opt:"itof"}) 
  putNewCode({opt:"ftoi"})  
  putNewCode({opt:"store.64"})
  putNewCode({opt:"ret"})*/
  putNewCode({opt:"globa",num:0})
  putNewCode({opt:"push",num:0})
  putNewCode({opt:"store.64"})  
  putNewCode({opt:"call",num:1}) 
  putNewCode({opt:"exit"})

  putNewCode({opt:"arga",num:0})
  putNewCode({opt:"globa",num:0})
  putNewCode({opt:"load.64"})  
  putNewCode({opt:"store.64",num:1}) 
  putNewCode({opt:"ret"})
  funlist[0] = { locNum: 0, argNum: 0, retNum: 0, ip: 0 }//funlist[id].argNum + funlist[id].retNum + funlist[id].locNum + funlist[optnum].ip
  funlist[1] = { locNum: 0, argNum: 0, retNum: 1, ip: 5 }//funlist[id].argNum + funlist[id].retNum + funlist[id].locNum + funlist[optnum].ip
  //runAll()
  /*
  static: 0 0 0 0 0 0 0 0 (`\u{0}\u{0}\u{0}\u{0}\u{0}\u{0}\u{0}\u{0}`)
  static: 6D 61 69 6E (`main`)
  static: 5F 73 74 61 72 74 (`_start`)
  fn [2] 0 0 -> 0 {
      0: GlobA(0)
      1: Push(0)
      2: Store64
      3: StackAlloc(1)
      4: Call(1)
      5: PopN(1)
  }
  fn [1] 0 0 -> 1 {
      0: ArgA(0)
      1: GlobA(0)
      2: Load64
      3: Store64
      4: Ret
  }
  */
  while (code[ip].opt != "exit") {
      run();
  }
  

</script>
<style scoped>
.button-yunxing{
	width: 50px
}
.main{
  border-style: solid;
  border-top-width: 1px;
  border-right-width: 1px;
  border-bottom-width: 1px;
  border-left-width: 1px;
}
.left{
  width: 10px;
  border-style: solid;
  border-top-width: 0px;
  border-right-width: 1px;
  border-bottom-width: 0px;
  border-left-width: 0px;
}
.right{
  margin-top: -8%;
  margin-left: 15
}
.class1{
  background-color: white;
}
.class2{
  background-color: red;
}
</style>